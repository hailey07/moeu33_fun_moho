<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="color-scheme" content="light dark">
    <meta name="supported-color-schemes" content="light dark">
    <title>å¦‚ä½•å®‰è£…è„šæœ¬ - Moho è„šæœ¬</title>
    <base href="/">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://at.alicdn.com/t/c/font_5109131_wfhaps8fl5.css">
    <link rel="icon" href="assets/Favicon.png" type="image/png">
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
</head>

<body>
    <div class="detail-container">

        <div class="breadcrumb">
            <div class="detail-topbar">
                <span class="home-icon" href="index"
                    style="display:inline-flex; align-items:center; vertical-align:middle; width:30px;">
                    <img src="assets/Favicon.png" alt="Home" class="breadcrumb-home-icon">
                </span>
                <a href="index" class="gobackhome">è¿”å›é¦–é¡µ</a>ï½œ
<span id="bread-name">å¦‚ä½•å®‰è£…è„šæœ¬</span>

            </div>
            <button id="theme-toggle" class="theme-toggle-btn" onclick="toggleTheme()" title="åˆ‡æ¢æ—¥å¤œæ¨¡å¼"></button>
        </div>

        <div id="content" style="max-width:80%; margin:auto;">

            <div class="detail-header">
                <div class="detail-icon">
                    <img src="assets/install.png">
                </div>
                <div class="detail-title">å¦‚ä½•å®‰è£… Moho è„šæœ¬</div>
            </div>


            <div class="article-layout">

                <div class="content-area" id="article-content">
                    <img src="assets/loading.gif" alt="Loading..."
                        style="width: 150px; height: 150px; margin: 10px; display:flex; align-items:center;justify-content: center;border: none;box-shadow: none;">
                </div>

                <aside class="toc-container">
                    <div class="toc-sticky-box">
                        <h3 class="toc-title">
                            <span class="iconfont icon-liebiao1"></span> ç›®å½•</h3>
                        <div id="toc-list"></div>
                        <div id="toc-list"></div>
                    </div>
                </aside>

            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // æŒ‡å®š Markdown æ–‡ä»¶è·¯å¾„
            const mdFile = 'otherdocs/install.md';

            fetch(mdFile)
                .then(res => {
                    if (!res.ok) throw new Error("æ— æ³•è¯»å–æ–‡ä»¶");
                    return res.text();
                })
                .then(text => {
                    const contentDiv = document.getElementById('article-content');
                    // 1. æ¸²æŸ“ Markdown
                    contentDiv.innerHTML = marked.parse(text);

                    // 2. ç”Ÿæˆç›®å½•
                    generateTOC();
                })
                .catch(err => {
                    console.error(err);
                    document.getElementById('article-content').innerHTML =
                        `<h3 style="color:red; text-align:center;">ğŸ˜¢ åŠ è½½æ•™ç¨‹å¤±è´¥ï¼Œè¯·æ£€æŸ¥ docs/install.md æ˜¯å¦å­˜åœ¨ã€‚</h3>`;
                });
        });

        // --- è‡ªåŠ¨ç”Ÿæˆç›®å½•å‡½æ•° (å’Œ detail.html é€šç”¨) ---
        function generateTOC() {
            const content = document.getElementById('article-content');
            const tocContainer = document.querySelector('.toc-container');
            const tocList = document.getElementById('toc-list');

            // 1. æ‰¾åˆ°æ–‡ç« é‡Œæ‰€æœ‰çš„ h1, h2, h3
            const headers = content.querySelectorAll('h1, h2, h3, h4, h5, h6');

            // å¦‚æœæ²¡æœ‰æ ‡é¢˜ï¼Œå°±éšè—ç›®å½•æ 
            if (headers.length === 0) {
                tocContainer.style.display = 'none';
                return;
            }

            // æ˜¾ç¤ºç›®å½•æ 
            tocContainer.style.display = 'block';
            tocList.innerHTML = ''; // æ¸…ç©ºæ—§å†…å®¹

            headers.forEach((header, index) => {
                // 2. ç¡®ä¿æ¯ä¸ªæ ‡é¢˜éƒ½æœ‰ ID
                if (!header.id) {
                    header.id = 'heading-' + index;
                }

                // 3. ç”Ÿæˆç›®å½•é“¾æ¥
                const link = document.createElement('a');
                link.href = '#' + header.id;
                link.textContent = header.textContent;
                link.className = 'toc-link toc-' + header.tagName.toLowerCase();

                // 4. ç‚¹å‡»å¹³æ»‘æ»šåŠ¨æ•ˆæœ
                link.onclick = (e) => {
                    e.preventDefault();
                    header.scrollIntoView({ behavior: 'smooth' });
                };

                tocList.appendChild(link);
            });
        }
    </script>
    <script src="https://at.alicdn.com/t/c/font_5109131_e8j9zarzsw.js"></script>
    <script src="script.js"></script>
</body>
<div id="copyright" class="cr-text">
        Â©ï¸ 2026 by MoeU33
    </div>
</html>