## 功能

- **可视化选择**：通过缩略图直观地查看和选择 Switch 图层的子内容，无需记忆图层名称。
- **自动生成缩略图**：脚本利用 Moho 的渲染功能，自动计算图层边界和摄像机位置，为每个子图层生成精确的 PNG 缩略图。
- **批量管理**：支持同时显示多个 Switch 图层的控制面板。如果选中了骨骼层或组层，脚本可递归查找并显示其内部包含的所有 Switch 图层。
- **高度可定制布局**：
  - **大小**：支持大图标 (64px)、小图标 (36px) 或自定义尺寸。
  - **形状**：支持水平、垂直或正方形网格排列。
  - **排序**：支持正序或倒序排列图标。
- **时间轴操控**：在画布空白处左右拖拽鼠标，可以快速浏览时间轴，且灵敏度可调。

## 使用方法

### 初始化与生成图标

1. 在图层面板中，选中包含 Switch 图层的组、骨骼层，或者直接选中一个或多个 Switch 图层。
2. 在工具栏选择 **SYN: Switch Icons** 工具。
3. 点击工具栏上方的 **“生成/更新切换缩略图”** 按钮（图标通常为刷新箭头）。
   - **Alt + 点击**：将强制更新整个项目中所有 Switch 图层的缩略图。
4. 脚本将自动渲染每个子图层，并在画布视口中生成浮动的图标面板。

### 切换图层

- 点击面板上的任意图标，当前帧的 Switch 图层将切换到对应的子图层，并自动生成关键帧。
- 操作支持撤销，脚本会在每次点击时记录撤销点。

### 工具栏设置

点击工具栏上的 **“设置” (Settings)** 按钮（通常显示为齿轮或弹出对话框），可以配置以下选项：

| **选项**           | **描述**                                                     |
| ------------------ | ------------------------------------------------------------ |
| **图标大小**       | 选择 `大`、`小` 或输入自定义像素值（介于 36 到 300 之间）。  |
| **排列方式 **      | `水平` (Horizontal)、`垂直` (Vertical) 或 `正方形` (Square Grid)。 |
| **图标排序**       | 勾选后改变图标的排列顺序。                                   |
| **切换排序**       | 改变面板本身的堆叠顺序。                                     |
| **间距**           | 设置图标面板之间的间距。                                     |
| **工作区遍历速度** | 设置鼠标在画布拖拽时时间轴的移动速度，范围 0.1 到 40。       |
| **删除所有缩略图** | 点击此按钮将物理删除当前项目生成的所有缓存缩略图文件。       |

## 注意事项与故障排除

### 必须设置“自定义内容文件夹”

脚本明确检测用户的**自定义内容文件夹** 设置。如果未设置该文件夹，脚本将无法保存生成的缩略图，并会弹出错误提示：“必须有自定义内容文件夹来存储切换缩略图”。

- **解决方法**：进入 Moho 首选项 (Preferences) -> 常规 (General) -> 自定义内容文件夹位置，指定一个有效的本地文件夹。

### 缩略图存储位置

生成的缩略图文件保存在：

[自定义内容文件夹]/scripts/ScriptResources/syn_resources/[文档名]/。

如果重命名了 Moho 项目文件，建议重新生成图标或手动清理旧文件夹。

### 性能提示

如果 Switch 图层包含大量复杂的矢量节点或高分辨率位图，初次生成缩略图可能需要几秒钟时间，因为脚本需要逐个渲染图层。



## 视频教程：

<iframe src="https://player.bilibili.com/player.html?aid=975704375&bvid=BV1844y147TQ&cid=414615555&page=1&high_quality=1&autoplay=0" scrolling="no" border="0" frameborder="no" framespacing="0" width="640" height="360"></iframe>