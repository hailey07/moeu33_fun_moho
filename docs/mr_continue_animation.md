此脚本允许您根据两个相邻的关键帧将现有动画扩展到当前帧。



## 简介

`MR_ContinueAnimation` 是一款旨在提高动画制作效率的 Moho 脚本。它的核心功能是**基于现有的两个关键帧，通过线性外推法计算并将动画延续到当前帧**。

简单来说，如果你希望物体保持当前的运动速度、旋转趋势或缩放比例继续运动，而无需手动计算数值，这个工具可以一键帮你完成预测和关键帧生成。

## 核心功能

- **智能运动预测**：脚本会计算最近两个关键帧之间的数值变化率，并按照该速率将动画延续到当前播放头所在的位置。
- **多模式支持**：
  - **矢量点**：支持位置移动、曲率动画。
  - **骨骼：支持位置、旋转和缩放。
  - **图层：支持整个图层的位移、旋转（X/Y/Z）和缩放。
- **双向延续**：
  - **默认模式**：根据*前两个*关键帧向后预测（延续过去的动作）。
  - **从右侧延续：根据*后两个*关键帧向前预测（基于未来的动作倒推，常用于补间或循环制作）。
- **内置选择工具**：脚本集成了框选功能，无需切换其他工具即可直接在视图中选择点或骨骼。

##  使用方法

### 基础操作流程

1. 在工具栏选择 **Continue Animation** 工具。
2. 在时间轴上，确保你的对象（点、骨骼或图层）在之前的时间点已有至少两个关键帧（用于计算速度）。
3. 将播放头（Playhead）移动到你希望生成新动作的时间点。
4. 在视图窗口中**框选**需要操作的点或骨骼（如果操作的是图层本身，则勾选“图层变换”模式）。
5. 点击工具面板上的 **"Continue Animation" (延续动画)** 按钮。

### 工具面板详解

| **图标/按钮**             | **功能描述**                                                 | **快捷操作 (Alt键)**                                         |
| ------------------------- | ------------------------------------------------------------ | ------------------------------------------------------------ |
| **Continue Animation**    | 执行延续计算。根据下方启用的通道生成关键帧。                 | **Alt + 点击**: 强制应用所有变换（位移+旋转+缩放），忽略下方开关状态。 |
| **Layer Icon (图层变换)** | **模式切换**：勾选后，脚本将作用于当前图层的变换通道，而非选中的点或骨骼。 | -                                                            |
| **Curvature (曲率)**      | 开关：是否计算曲率动画                                       | **Alt + 点击**: 仅执行曲率延续，忽略其他通道。               |
| **Position (位移)**       | 开关：是否计算位置移动。                                     | **Alt + 点击**: 仅执行位移延续。                             |
| **旋转)**                 | 开关：是否计算旋转角度（骨骼/图层）。                        | **Alt + 点击**: 仅执行旋转延续。                             |
| **Scale (缩放)**          | 开关：是否计算缩放比例。                                     | **Alt + 点击**: 仅执行缩放延续。                             |
| **From Right (从右侧)**   | 开关：勾选后，脚本将读取播放头**右侧**（未来）的两个关键帧来计算当前帧的状态。 | -                                                            |

### 快捷键与交互

- **框选**：直接在画布上拖拽鼠标可框选点或骨骼。
- **Alt + 框选**：从当前选择中减去（反选/取消选择）。
- **Shift + 框选**：加选。